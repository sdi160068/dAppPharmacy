<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="styles.css">
    <title>Pharmaceutical Product Tracking</title>
</head>
<body>
    <header>
        <div class="header-content">
            <div class="user-address" id="selectedUserAddress">Address: </div>
            <div class="user-dropdown">
                <select id="userDropdown" onchange="updateUserAddress()">
                    <option value="" disabled selected>Select User</option>
                </select>
            </div>
        </div>
    </header>
    
    <h1>Pharmaceutical Product Tracking System</h1>
    <div id="loading-circle" class="loading-circle"></div>
    <div id="loading-success" class="loading-success">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 64 64" enable-background="new 0 0 64 64"><circle cx="32" cy="32" r="30" fill="#fff"/><path d="M32,2C15.431,2,2,15.432,2,32c0,16.568,13.432,30,30,30c16.568,0,30-13.432,30-30C62,15.432,48.568,2,32,2z M25.025,50
            l-0.02-0.02L24.988,50L11,35.6l7.029-7.164l6.977,7.184l21-21.619L53,21.199L25.025,50z" fill="#7cb342"/></svg>
        
    </div>

    <h2>Available Blockchain Accounts</h2>
    <div id="accountDropdownContainer">
        <select id="accountDropdown" onchange="copyToClipboard(this.value)">
            <option value="" disabled>Select an account</option>
        </select>
        <button id="copyButton" onclick="copySelectedAccount()">Copy to Clipboard</button>
    </div>
    <div id="copiedMessage" style="display: none;">Copied to clipboard!</div>

    <div>
        <h2>Create User</h2>
        <input type="text" id="userName" placeholder="Name">
        <select id="userRole">
            <option value="0">Admin</option>
            <option value="1">Supplier</option>
            <option value="2">Logistic</option>
            <option value="3">Auditor</option>
        </select>
        <input type="text" id="userAddress" placeholder="Address">
        <button onclick="createUser()">Create User</button>
        
    </div>
    <div>
        <h2>Remove User</h2>
        <input type="text" id="removeUserAddress" placeholder="User Address">
        <button onclick="removeUser()">Remove User</button>
    </div>

    <div>
        <h2>Create Product</h2>
        <input type="text" id="productName" placeholder="Product Name">
        <input type="number" id="productQuantity" placeholder="Quantity">
        <input type="text" id="productEntityAddress" placeholder="Entity Address">
        <button onclick="createProduct()">Create Product</button>
    </div>

    <div>
        <h2>Get Product</h2>
        <input type="number" id="productId_get" placeholder="Product ID">
        <button onclick="getProduct(document.getElementById('productId_get').value)">Get Product</button>
        <div id="productDetails"></div>
    </div>


    <div>
        <h2>Remove Product</h2>
        <input type="number" id="removeProductId" placeholder="Product ID">
        <button onclick="removeProduct()">Remove Product</button>
    </div>

    <div>
        <h2>Get All Products</h2>
        <button onclick="getProducts()">Get All Products</button>
        <ul id="productList"></ul>
    </div>
    
    <div>
        <h2>Get Product Entity</h2>
        <input type="number" id="productIdForEntity" placeholder="Product ID">
        <button onclick="getProductEntity(document.getElementById('productIdForEntity').value)">Get Product Entity</button>
        <div id="productEntityDetails"></div>
    </div>    

    <div>
        <h2>Create Shipment</h2>
        <input type="text" id="shipmentDestination" placeholder="Destination Address">
        <input type="number" id="shipmentProductId" placeholder="Product ID">
        <input type="date" id="shipmentArrivalDate" placeholder="Expected Arrival Date (timestamp)">
        <button onclick="createShipment()">Create Shipment</button>
    </div>

    <div>
        <h2>Get Shipment Details</h2>
        <input type="number" id="shipmentId" placeholder="Shipment ID">
        <button onclick="getShipment(document.getElementById('shipmentId').value)">Get Shipment</button>
        <div id="shipmentDetails"></div>
    </div>
    
    <div>
        <h2>Get All Shipments</h2>
        <button onclick="getShipments()">Get All Shipments</button>
        <ul id="shipmentList"></ul>
    </div>
    
    <div>
        <h2>Get Product Shipments</h2>
        <input type="number" id="productIdForShipments" placeholder="Product ID">
        <button onclick="getProductShipments(document.getElementById('productIdForShipments').value)">Get Product Shipments</button>
        <ul id="productShipmentList"></ul>
    </div>    

    <div>
        <h2>Get Entities</h2>
        <button onclick="getEntities()">Get Supply Chain Entities</button>
        <ul id="entityList"></ul>
    </div>

    <div>
        <h2>Create Supply Chain Entity</h2>
        <input type="text" id="scEntityAddress" placeholder="Entity Address">
        <input type="text" id="scEntityName" placeholder="Entity Name">
        <select id="scEntityType">
            <option value="0">Supplier</option>
            <option value="1">Transportation</option>
            <option value="2">Manufacturer</option>
            <option value="3">Warehouse/Logistic</option>
            <option value="4">Distributor</option>
            <option value="5">Pharmacy</option>
        </select>
        <button onclick="createScEntity()">Create Entity</button>
    </div>

    <div>
        <h2>Remove Supply Chain Entity</h2>
        <input type="text" id="removeScEntityAddress" placeholder="Entity Address">
        <button onclick="removeScEntity()">Remove Entity</button>
    </div>

    <div>
        <h2>Get SC Entity Details</h2>
        <input type="text" id="get_scEntityAddress" placeholder="Enter Entity Address...">
        <button onclick="getScEntity()">Get Details</button>
    </div>
    
    <div id="scEntityDetails">
        <!-- SC entity details will be displayed here -->
    </div>

    <div>
        <h2>View User Info</h2>
        <input type="text" id="user_user_address" placeholder="Enter user address" />
        <button onclick="viewUser()">View User Info</button>
        <pre id="userInfo"></pre>
    </div>

    <script src="js/web3.min.js"></script>
    <script src="js/app.js"></script>
    <script src="js/blockchain-commands.js"></script>
    <script src="js/extra-functions.js"></script>
</body>
</html>
